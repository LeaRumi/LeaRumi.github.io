<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lea_Rumi | Chaos Haus - Startseite</title>
    
    <style>
        /* 1. CSS-Variablen f√ºr die Farbpalette */
        :root {
            --farbe-orange: #FF7F50;       /* Coral (Anfang) */
            --farbe-hell-lila: #DDA0DD;    /* Plum (Mitte) */
            --farbe-dunkel-lila: #4B0082;  /* Indigo (Ende) */
            --schriftfarbe-hell: #FFFFFF;
            --schriftfarbe-dunkel: #333333;
            --menu-hover: #5D3FD3;         /* Dunkleres Lila f√ºr Hover */
        }

        /* 2. Allgemeine Formatierung und Hintergrund */
        body {
            font-family: 'Arial', sans-serif;
            color: var(--schriftfarbe-dunkel);
            /* Der Farbverlauf (Gradient) als Hintergrund */
            background: linear-gradient(135deg, var(--farbe-orange), var(--farbe-hell-lila), var(--farbe-dunkel-lila));
            min-height: 100vh; /* Sorgt daf√ºr, dass der Verlauf den gesamten Bildschirm f√ºllt */
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
        }

        /* 3. Header- und Navigations-Bereich */
        header {
            background-color: rgba(0, 0, 0, 0.4); /* Leichter dunkler Hintergrund f√ºr Kontrast */
            color: var(--schriftfarbe-hell);
            padding: 15px 40px;
            display: flex;
            justify-content: space-between; /* Header links, Men√º rechts */
            align-items: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .header-titel h1 {
            font-size: 2.2em;
            margin: 0;
            font-weight: bold;
        }

        nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex; /* Men√ºpunkte nebeneinander */
        }

        nav ul li {
            margin-left: 30px;
        }

        nav ul li a {
            color: var(--schriftfarbe-hell);
            text-decoration: none;
            font-size: 1.1em;
            padding: 5px 10px;
            border-radius: 5px;
            transition: background-color 0.3s;
        }

        nav ul li a:hover, nav ul li a.aktiv {
            background-color: var(--menu-hover);
        }

        /* 4. Hauptinhaltsbereich */
        main {
            padding: 40px;
            flex-grow: 1; /* Sorgt daf√ºr, dass der Hauptinhalt den verbleibenden Platz einnimmt */
        }

        .inhalts-box {
            background-color: rgba(255, 255, 255, 0.9); /* Halbdurchsichtige Box */
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            max-width: 900px; /* Begrenzte Breite f√ºr besseres Lesen */
            margin: 0 auto;
        }

        /* NEUES Styling f√ºr den News-Block auf der Startseite */
        .neueste-news-box {
            margin-top: 30px;
            padding: 25px;
            background-color: var(--farbe-dunkel-lila);
            color: var(--schriftfarbe-hell);
            border-radius: 8px;
            text-align: left;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }
        .neueste-news-box h3 {
            color: var(--farbe-orange);
            margin-top: 0;
        }
        .neueste-news-box a {
            color: var(--farbe-hell-lila);
            text-decoration: underline;
            font-weight: bold;
        }
        /* Styling f√ºr den Live/Offline Status */
        .twitch-status {
            margin-top: 20px;
            padding: 10px 15px;
            border-radius: 5px;
            font-weight: bold;
            display: inline-block;
            color: white;
        }
        .status-live {
            background-color: #ff0000; /* Rot f√ºr LIVE */
        }
        .status-offline {
            background-color: #333333; /* Dunkelgrau f√ºr Offline */
        }
    </style>
</head>
<body>

    <header>
        <div class="header-titel">
            <h1>Lea_Rumi | Chaos Haus</h1>
        </div>
        <nav>
            <ul>
                <li><a href="index.html" class="aktiv">Startseite</a></li>
                <li><a href="streamplan.html">Streamplan</a></li>
                <li><a href="neuigkeiten.html">Neuigkeiten/Announcements</a></li>
                <li><a href="verlinkungen.html">Verlinkungen</a></li>
                <li><a href="twitch.html">Twitch</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <div class="inhalts-box">
            <h2>Willkommen auf der Startseite!</h2>
            <p>
                <span id="twitchStatusText">Lade Livestream-Status...</span>
            </p>
            
            <p>Hallo und herzlich willkommen im Chaos Haus! Hier entsteht deine neue, individuelle Homepage mit dem fantastischen Farbverlauf, den du dir gew√ºnscht hast.</p>
            
            <p style="margin-top: 20px;">Der Hintergrund wechselt nun flie√üend von Orange √ºber Hell-Lila zu Dunkel-Lila. Den aktuellen Streamplan und alle Neuigkeiten findest du oben im Men√º.</p>

            <div id="neuesteNews" class="neueste-news-box">
                <h3>Lade neueste News...</h3>
            </div>
        </div>
    </main>

    <script>
        // *** 1. Funktion: Twitch Live/Offline Status abrufen ***
        function ladeTwitchStatus() {
            // Dies nutzt den Twitch-Service, der den Status als Badge liefert
            const channelName = 'lea_rumi';
            const statusElement = document.getElementById('twitchStatusText');
            
            // Abruf des Status-Bildes von Twitch
            const img = new Image();
            img.onload = function() {
                // Wenn das Bild erfolgreich geladen wird, ist der Stream OFFLINE (Standard-Verhalten)
                statusElement.innerHTML = `Lea-Rumi Livestream derzeit <span class="twitch-status status-offline">OFFLINE</span>`;
            };
            img.onerror = function() {
                // Wenn das Bild NICHT geladen werden kann (Fehler 404), ist der Stream LIVE!
                statusElement.innerHTML = `Lea-Rumi Livestream derzeit <span class="twitch-status status-live">LIVE</span>!`;
            };
            
            // WICHTIG: Twitch liefert bei Offline ein g√ºltiges Bild und bei LIVE einen 404 Fehler
            img.src = `https://decapi.me/twitch/uptime/${channelName}?json=true&random=${new Date().getTime()}`;
        }
        
        // *** 2. Funktion: Neueste News laden (alte Funktion) ***
        function ladeNeuesteNews() {
            fetch('neuigkeiten.json')
                .then(response => {
                    if (!response.ok) throw new Error('Fehler beim Laden der News-Daten.');
                    return response.json();
                })
                .then(daten => {
                    const container = document.getElementById('neuesteNews');
                    if (!daten.posts || daten.posts.length === 0) {
                        container.innerHTML = '<h3>Keine aktuellen Neuigkeiten verf√ºgbar.</h3>';
                        return;
                    }
                    let neuestePost = daten.posts.reduce((max, post) => 
                        (post.id > max.id ? post : max), daten.posts[0]
                    );

                    container.innerHTML = `
                        <h3>üî• ${neuestePost.titel}</h3>
                        <p style="font-size: 0.9em; color: var(--farbe-hell-lila);">
                            (${neuestePost.datum} | Kategorie: ${neuestePost.kategorie})
                        </p>
                        <p>${neuestePost.inhalt.substring(0, 150)}...</p> 
                        <p style="text-align: right; margin-top: 15px;">
                            <a href="neuigkeiten.html">Alle News ansehen ‚Üí</a>
                        </p>
                    `;
                })
                .catch(error => {
                    console.error('Fehler beim Laden der News:', error);
                    document.getElementById('neuesteNews').innerHTML = 
                        '<h3>Fehler beim Laden der News-Daten.</h3>';
                });
        }
        
        // F√ºhrt beide Funktionen aus, sobald die Seite geladen ist
        ladeTwitchStatus();
        ladeNeuesteNews();
    </script>
</body>
</html>
</body>
</html>
